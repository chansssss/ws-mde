(function(t){function e(e){for(var o,l,s=e[0],a=e[1],c=e[2],d=0,h=[];d<s.length;d++)l=s[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&h.push(i[l][0]),i[l]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,l=1;l<n.length;l++){var a=n[l];0!==i[a]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},r=[];function l(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d216214":"7163b552","chunk-507bc06d":"f64fe5c9"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=o);var r,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=l(t);var c=new Error;r=function(e){a.onerror=a.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,n[1](c)}i[t]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:a})}),12e4);a.onerror=a.onload=r,document.head.appendChild(a)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/ws-mde/",s.oe=function(t){throw console.error(t),t};var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var d=0;d<a.length;d++)e(a[d]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"104d":function(t,e,n){"use strict";n("9354")},"2f0d":function(t,e,n){var o={"./locale":"c020","./locale.js":"c020"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}i.keys=function(){return Object.keys(o)},i.resolve=r,t.exports=i,i.id="2f0d"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("WsMarkdown",{attrs:{mode:"editor"}})],1)},r=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ws-markdown_container"},[n("div",{staticClass:"custom_tool-bar"},[n("div",{staticClass:"custom_tool-bar_left",attrs:{contenteditable:"true"}},[t._v(" undefined ")]),n("div",{staticClass:"custom_tool-bar_right"},[n("button",{staticClass:"button button-bar__button",attrs:{title:"Save as Markdown"},on:{click:t.exportMd}},[n("svg",{staticClass:"icon",attrs:{t:"1617356612588",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2087","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"}},[n("path",{attrs:{d:"M471 250.4c0-22.1 17.9-40.1 40.1-40.1 22.1 0 40.1 17.9 40.1 40.1V680c0 22.1-17.9 40.1-40.1 40.1-22.1 0-40.1-17.9-40.1-40.1V250.4z m0 429.5","p-id":"2088"}}),n("path",{attrs:{d:"M852.5 834V645.4c0-20.8 16.9-37.7 37.7-37.7 20.8 0 37.7 16.9 37.7 37.7v226.2c0 20.8-16.9 37.7-37.7 37.7H136.1c-20.8 0-37.7-16.9-37.7-37.7V645.4c0-20.8 16.9-37.7 37.7-37.7 20.8 0 37.7 16.9 37.7 37.7V834h678.7z m0 0M511.1 229.5L320.3 437.9c-15.1 16.4-40.5 17.4-56.9 2.4-16.4-15-17.5-40.5-2.4-56.9L481.4 143c7.6-8.4 18.4-13.1 29.7-13.1s22.1 4.8 29.6 13.1l220.4 240.4c15 16.4 14 41.9-2.4 56.9s-41.9 14-56.9-2.4L511.1 229.5z m190.7 208.4","p-id":"2089"}})])])])]),n("div",{staticClass:"ws-markdown"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditorMode&&t.editorVisible,expression:"isEditorMode && editorVisible"}],staticClass:"ws-markdown_editor",attrs:{contenteditable:"true"},domProps:{innerHTML:t._s(t.content)},on:{input:t.changeText}}),t.isEditorMode?n("div",{staticClass:"ws-markdown_tool-bar"},[n("button",{staticClass:"button button-bar__button",class:t.editorVisible?"button_on":"",attrs:{title:"Toggle side preview"},on:{click:t.toggleSidePreview}},[n("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M11,20.977l-6,0c-1.104,0 -2,-0.896 -2,-2l0,-14c0,-1.105 0.896,-2 2,-2l14,0c1.105,0 2,0.895 2,2l0,14c0,1.104 -0.895,2 -2,2l-6,0l0,0.023l-2,0l0,-0.023Zm0,-2l0,-14l-6,0l0,14l6,0Zm8,-14l-6,0l0,14l6,0l0,-14Z"}})])]),n("button",{staticClass:"button button-bar__button",class:t.syncScroll?"button_on":"",attrs:{title:"Sync Scroll"},on:{click:t.toggleSyncScroll}},[n("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M9,18l3,0l-4,4l-4,-4l3,0l0,-3l2,0l0,3Zm8,0l3,0l-4,4l-4,-4l3,0l0,-3l2,0l0,3Zm0.055,-5l-10.11,0l0,-2l10.11,0l0,2Zm-8.055,-4l-2,0l0,-3l-3,0l4,-4l4,4l4,-4l4,4l-3,0l0,3l-2,0l0,-3l-6,0l0,3Z"}})])])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.previewVisible,expression:"previewVisible"}],ref:"export",staticClass:"ws-markdown_preview",attrs:{id:"ws-markdown_preview"}},[n("div",{staticClass:"preview_content",attrs:{id:"preview_content"},domProps:{innerHTML:t._s(t.html)}})])])])},s=[],a=(n("8da8"),n("d4cd")),c=n.n(a),d=n("fbdb"),u=n.n(d),h={data:function(){return{md:null}},methods:{initMarkdownIT:function(){var t=n("1487");this.md=new c.a({highlight:function(e,n){if(n&&t.getLanguage(n))try{return'<pre class="hljs"><code>'+t.highlight(e,{language:n,ignoreIllegals:!0}).value+"</code></pre>"}catch(o){}return'<pre class="hljs"><code>'+c()().utils.escapeHtml(e)+"</code></pre>"}}),this.md.use(n("e8b4")),this.md.use(n("0fad"))}},created:function(){this.initMarkdownIT()},mounted:function(){u.a.initialize({startOnLoad:!0})}},p={data:function(){return{editorElement:null,previewElement:null}},methods:{initScrollEvent:function(){this.editorElement=document.getElementsByClassName("ws-markdown_editor")[0],this.editorElement.addEventListener("scroll",this.editorElementScroll),this.previewElement=document.getElementsByClassName("ws-markdown_preview")[0],this.previewElement.addEventListener("scroll",this.previewElementScroll)},editorElementScroll:function(t){this.syncScroll&&(this.previewElement.scrollTop=this.editorElement.scrollTop)},previewElementScroll:function(t){this.syncScroll&&(this.editorElement.scrollTop=this.previewElement.scrollTop)}},mounted:function(){this.isEditorMode&&this.initScrollEvent()}},m=n("c0e9"),f=n.n(m),w=n("8baf"),v={name:"WsMarkdown",components:{},mixins:[h,p],props:{mode:{type:String,default:"editor"}},data:function(){return{title:"undefined",html:"",content:"# Hello World",previewVisible:!0,editorVisible:!0,syncScroll:!0,isEditorMode:!0}},watch:{},created:function(){this.isEditorMode="editor"===this.mode},mounted:function(){this.html=this.md.render(this.content)},methods:{exportMd:function(){var t=document.getElementsByClassName("ws-markdown_editor")[0].innerText,e=n("21a6"),o=new Blob([t],{type:"text/plain;charset=utf-8"}),i=document.getElementsByClassName("custom_tool-bar_left")[0].innerText;this.title=i||"undefined",e.saveAs(o,"".concat(this.title,".md"))},exportPdf:function(){this.editorVisible=!1;var t=document.getElementById("preview_content");t.style.width="900px",t.style.padding="0 60px",this.$nextTick((function(){f()(t,{allowTaint:!0,scale:2,scrollX:-window.scrollX,scrollY:-window.scrollY,windowWidth:document.documentElement.offsetWidth,windowHeight:document.documentElement.offsetHeight}).then((function(t){document.body.appendChild(t);var e=t.toDataURL("image/jpeg"),n=210,o=295,i=t.height*n/t.width,r=i,l=new w["a"]("p","mm"),s=0;l.addImage(e,"JPEG",0,s,n,i),r-=o;while(r>=0)s=r-i,l.addPage(),l.addImage(e,"JPEG",0,s,n,i),r-=o;l.save("file.pdf")}))}))},exportPdf1:function(){var t=this,e=2,n=this.$refs.export.clientHeight,o=this.$refs.export.clientWidth,i=document.createElement("canvas");i.width=o*e,i.height=n*e;var r=i.getContext("2d");r.scale(e,e);var l=this.$refs.export.getBoundingClientRect();r.translate(-l.left,-l.top),this.$nextTick((function(){f()(t.$refs.export,{allowTaint:!0,taintTest:!0,useCORS:!0,scale:e/2,canvas:i,width:o,height:n}).then((function(t){var e=t.width,n=t.height;console.log(e,n);var o=(e+10)/2*.75,i=(n+500)/2*.75,r=o,l=n/2*.75,s=t.toDataURL("image/jpeg",1),a=new w["a"]("","pt",[o,i]);a.addImage(s,"JPEG",0,0,r,l),a.save("report.pdf")}))}))},toggleSidePreview:function(){this.editorVisible=!this.editorVisible},toggleSyncScroll:function(){this.syncScroll=!this.syncScroll},changeText:function(t){var e=t.target.innerText;this.html=this.md.render(e)}}},g=v,b=(n("104d"),n("2877")),y=Object(b["a"])(g,l,s,!1,null,"b89a2666",null),E=y.exports,_={name:"App",components:{WsMarkdown:E},data:function(){return{}},watch:{},mounted:function(){},methods:{}},x=_,k=(n("034f"),Object(b["a"])(x,i,r,!1,null,null,null)),S=k.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(S)}}).$mount("#app")},"85ec":function(t,e,n){},9354:function(t,e,n){}});